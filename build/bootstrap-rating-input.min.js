!function(a){var b="rating-clear",c="."+b,d="hidden",e=function(a){return"[data-value"+(a?"="+a:"")+"]"},f=function(a,b,c){var d=c["active-icon"],e=c["inactive-icon"];a.removeClass(b?e:d).addClass(b?d:e)},g=function(c,d){var e=d.min,f=d.max,g=d.clearable,h=d.container,i=a("<"+h+' class="rating-input"></'+h+">");d["class"]&&i.addClass(d["class"]),d.id&&i.attr("id",d.id);for(var j=e;f>=j;j++)i.append('<i class="'+d["icon-lib"]+'" data-value="'+j+'"></i>');var k=i.editable=d.editable;return k&&g&&i.append("&nbsp;").append('<a class="'+b+'"><i class="'+d["icon-lib"]+" "+d["clearable-icon"]+'"/>'+g+"</a>"),i},h=function(a){var b={};for(option in i)b[option]=a.data(option);return b},i={min:1,max:5,"empty-value":0,"icon-lib":"glyphicon","active-icon":"glyphicon-star","inactive-icon":"glyphicon-star-empty",clearable:"","clearable-icon":"glyphicon-remove",container:"div",editable:"true",id:"","class":""},j=function(b,c){var e=this.$input=a(b),f=this.options=a.extend({},i,h(e),c),j=this.$el=g(e,f);e.addClass(d).before(j),this.highlight(e.val())};j.VERSION="0.3.0",j.DEFAULTS=i,j.prototype={clear:function(){this.setValue(this.options["empty-value"])},setValue:function(a){this.highlight(a),this.updateInput(a)},highlight:function(a,b){var g=this.options,h=this.$el;if(a>=this.options.min&&a<=this.options.max){var i=h.find(e(a));f(i.prevAll("i").andSelf(),!0,g),f(i.nextAll("i"),!1,g)}else f(h.find(e()),!1,g);b||(a&&a!=this.options["empty-value"]?h.find(c).removeClass(d):h.find(c).addClass(d))},updateInput:function(a){var b=this.$input;b.val()!=a&&b.val(a).change()}};var k=a.fn.rating=function(b){var d=arguments;return this.each(function(){var f=a(this),g="rating",h=f.data(g),i="object"==typeof b&&b;h||(h=new j(f,i),h.$el.editable&&h.$el.on("mouseenter",e(),function(){h.highlight(a(this).data("value"),!0)}).on("mouseleave",e(),function(){h.highlight(f.val(),!0)}).on("click",e(),function(){h.setValue(a(this).data("value"))}).on("click",c,function(){h.clear()}),f.data(g,h)),"clear"===b?h.clear():"setValue"===b&&h.setValue(d[1])})};k.Constructor=j,a(function(){a("input.rating[type=number]").each(function(){a(this).rating()})})}(jQuery);